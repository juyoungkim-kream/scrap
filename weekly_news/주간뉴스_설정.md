# 주간 뉴스 요약 — 설정 가이드 (Gemini + Slack)

매주 **월요일 오전 9시(한국 시간)** 에 **특정 키워드(예: 경쟁사 이름)** 관련 Google 뉴스를 수집해서 Gemini로 요약하고, Slack 채널로 보내는 설정 방법이에요.

---

## ① Gemini API 키 받기 (무료)

1. 브라우저에서 **https://aistudio.google.com/app/apikey** 로 갑니다.
2. Google 계정으로 로그인합니다.
3. **「Create API key」** 를 눌러 새 키를 만듭니다.
4. 생성된 키를 **복사해서 안전한 곳에 잠깐 저장**해 두세요.  
   (나중에 ③에서 GitHub 비밀값으로 넣을 때 씁니다.)

> 무료 한도 안에서 쓰면 비용이 나가지 않습니다. 주 1회 요약은 무료 한도로 충분해요.

---

## ② Slack 웹훅(Webhook) 주소 만들기

1. **Slack** 에 로그인한 뒤, 메시지를 받을 **채널**을 정합니다.
2. 채널 이름 옆 **▼** → **채널 설정** → **통합** 탭으로 갑니다.
3. **앱 추가** 또는 **통합 앱** 에서 **「Incoming Webhooks」** 를 검색해 추가합니다.
4. **「Slack에 추가」** → 수신할 채널을 고르고 **「Incoming Webhook 추가」** 를 누릅니다.
5. **Webhook URL** 이 나옵니다. 이 주소를 **전부 복사**해서 안전한 곳에 저장해 두세요.  
   (형식: `https://hooks.slack.com/services/...`)

---

## ③ GitHub 저장소에 비밀값(Secrets) 넣기

이 프로젝트를 **GitHub 저장소**에 올린 뒤에 해야 합니다.

1. GitHub에서 해당 **저장소** 페이지로 갑니다.
2. **Settings** → 왼쪽 메뉴에서 **Secrets and variables** → **Actions** 를 선택합니다.
3. **New repository secret** 를 눌러서 아래 **세 개**를 만듭니다.

| Name (이름)           | Value (값)                         |
|-----------------------|------------------------------------|
| `GEMINI_API_KEY`      | ①에서 복사한 Gemini API 키        |
| `SLACK_WEBHOOK_URL`   | ②에서 복사한 Webhook URL          |
| `NEWS_SEARCH_KEYWORD` | **검색할 키워드** (예: 경쟁사 이름, 회사명) |

이름을 **정확히** 위와 같이 적어야 해요.  
`NEWS_SEARCH_KEYWORD` 에는 「이 회사/브랜드에 대한 뉴스만 받고 싶다」는 이름을 넣으면 됩니다. (예: `카카오`, `네이버`, `토스` 등)

---

## ④ 언제 돌아가나요?

- **자동 실행**: 매주 **월요일 00:00 UTC** = **한국 시간 월요일 오전 9시** 에 자동으로 한 번 돌아갑니다.
- **수동 실행**: GitHub 저장소 → **Actions** → **「주간 뉴스 요약」** 워크플로우 선택 → **Run workflow** 로 원할 때마다 실행할 수 있어요.

---

## ⑤ (선택) 컴퓨터에서 먼저 테스트해 보기

GitHub에 올리기 전에, 본인 PC에서 한 번 돌려 보고 싶다면:

1. **weekly_news** 폴더로 들어간 뒤 터미널(PowerShell 등)을 엽니다.
2. 아래처럼 설치 후 실행합니다.

   ```powershell
   pip install -r requirements.txt
   $env:GEMINI_API_KEY = "여기에_Gemini_API_키"
   $env:SLACK_WEBHOOK_URL = "여기에_Slack_Webhook_URL"
   $env:NEWS_SEARCH_KEYWORD = "경쟁사_또는_회사명"
   python weekly_news.py
   ```

3. 정상이면 Slack 채널에 요약 메시지가 한 번 도착합니다.

---

## 자주 묻는 것

**Q. 월요일이 아니라 다른 요일/시간에 돌리고 싶어요.**  
A. 저장소 루트의 **`.github/workflows/weekly-news.yml`** 파일을 연 뒤, `cron: "0 0 * * 1"` 부분을 바꾸면 됩니다.  
   - `* * * * 1` = 매주 월요일  
   - `0 0 * * 2` = 매주 화요일 00:00 UTC (한국 시간 09:00)  
   [crontab.guru](https://crontab.guru) 에서 식을 확인할 수 있어요.

**Q. 검색 키워드(경쟁사)를 바꾸고 싶어요.**  
A. GitHub 저장소 **Settings** → **Secrets** 에서 `NEWS_SEARCH_KEYWORD` 값을 수정하면 됩니다.  
   경쟁사가 여러 개면 한 번에 하나만 넣을 수 있어요. (여러 키워드는 나중에 스크립트 수정으로 가능)

**Q. 뉴스 개수를 바꾸고 싶어요.**  
A. 이 폴더의 **weekly_news.py** 안의 `fetch_google_news_rss(..., max_items=15)` 에서 `15` 를 원하는 숫자로 바꾸면 됩니다.

**Q. 비용이 나갈 수 있나요?**  
A. Gemini는 무료 한도가 있고, 주 1회 요약은 보통 그 안에 들어갑니다.  
   Slack 웹훅·GitHub Actions(공개 저장소)는 무료로 쓸 수 있어요.

---

정리하면, **① Gemini 키** + **② Slack 웹훅** + **③ GitHub Secrets** 까지 넣으면, 매주 월요일 아침에 뉴스 요약이 Slack으로 자동 전송됩니다.
